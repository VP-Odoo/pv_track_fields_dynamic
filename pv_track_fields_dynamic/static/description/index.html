<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Dynamic Field Tracking — Odoo 18</title>
</head>
<body>
  <h1>Dynamic Field Tracking</h1>
  <p>
    Configure which fields on any model should be tracked. Changes are posted to the chatter
    in a single note per write using the native “old → new” style. No bridge modules or
    code changes to business models.
  </p>

  <h2>What it does</h2>
  <ul>
    <li>Select a model and the stored (non-binary) fields you want to track.</li>
    <li>On create/write, posts one grouped message per record with each change as “Old → New”.</li>
    <li>Smart rendering for many2one, many2many/one2many, date/datetime, monetary, selection, boolean.</li>
  </ul>

  <h2>How it works</h2>
  <ul>
    <li>Lightweight global hook around ORM create()/write().</li>
    <li>Only activates for models that have chatter (inherit <code>mail.thread</code>).</li>
    <li>Per-company rule from <code>track.fields.config</code>, cached during the request.</li>
    <li>Skips during install/upgrade; safe on registry build.</li>
  </ul>

  <h2>Why it’s safe</h2>
  <ul>
    <li>No schema changes to business models.</li>
    <li>Posts as the current user for an accurate audit trail.</li>
    <li>Configs are linked to <code>ir.model</code> with <code>ondelete="cascade"</code>; uninstalling the model removes its rules.</li>
  </ul>

  <h2>Setup</h2>
  <ol>
    <li>Install the module.</li>
    <li>Go to <strong>Settings → Dynamic Tracking → Configurations</strong>.</li>
    <li>Create a rule: pick Company, Model and Fields; optionally group messages and choose to show old/new.</li>
    <li>Edit a tracked field on a record with chatter and see “Old → New”.</li>
  </ol>

  <h2>Notes</h2>
  <ul>
    <li>Binary fields are excluded by design.</li>
    <li>Models without chatter are skipped (no errors).</li>
    <li>Many2many/one2many show the full new set. A delta view (+Added/–Removed) can be added if needed.</li>
  </ul>

  <h2>Compatibility</h2>
  <ul>
    <li>Odoo 18. List views use <code>&lt;list&gt;</code> (not <code>&lt;tree&gt;</code>).</li>
  </ul>

  <p>License: LGPL-3</p>
</body>
</html>
